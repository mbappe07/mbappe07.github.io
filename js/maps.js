$("#select1, #select2").on("change",function(a){var b=a.target.value;"A"==b?map.setView([46.815487,-71.20608],16):"B"==b?map.setView([46.826374,-71.230146],16):"C"==b?map.setView([46.803125,-71.23198],16):map.setView([46.819,-71.233107],14)}),$("#checkbox :checkbox").change(function(a){var b=a.target.value;$("#checkbox"+b).is(":checked")?1==b?marker1.addTo(map):2==b?marker2.addTo(map):3==b?marker3.addTo(map):4==b?marker4.addTo(map):5==b&&marker5.addTo(map):1==b?map.removeLayer(marker1):2==b?map.removeLayer(marker2):3==b?map.removeLayer(marker3):4==b?map.removeLayer(marker4):5==b&&map.removeLayer(marker5)}),$("#weather").on("click",function(){$(".strategy").hide(),$(".weather").show(),$("#strategy").removeClass("active"),$("#weather").addClass("active"),map.removeLayer(strategy),$(".legend").remove();var a=L.geoJson(shape,{style:styleTemp}).addTo(map),b=L.control({position:"bottomright"});b.onAdd=function(){var a=L.DomUtil.create("div","info legend"),b=[-13.4,-12.9,-12.5,-11.9,-10.8];a.innerHTML+="<p class='legend_title'> Temperature (\xB0C)</p>";for(var c=0;c<b.length;c++)a.innerHTML+="<i style=\"background:"+getColorTemp(b[c])+"\"></i><span class=\"legendp\">"+b[c]+(b[c+1]?" - "+b[c+1]+"</span><br>":"+");return a},b.addTo(map)}),$("#strategy").on("click",function(){$(".weather").hide(),$(".strategy").show(),$("#weather").removeClass("active"),$("#strategy").addClass("active"),map.removeLayer(weather),$(".legend").remove();var a=L.geoJson(shape,{style:styleDose}).addTo(map),b=L.control({position:"bottomright"});b.onAdd=function(){var a=L.DomUtil.create("div","info legend"),b=[30,46,164,200,222];a.innerHTML+="<p class='legend_title'> Dose (Kg / km)</p>";for(var c=0;c<b.length;c++)a.innerHTML+="<i style=\"background:"+getColorDoses(b[c]+1)+"\"></i><span class=\"legendp\">"+b[c]+(b[c+1]?" - "+b[c+1]+"</span><br>":"+");return a},b.addTo(map)});function getColorDoses(a){return 46>a?"#86D911":46<=a&&164>a?"#C9D20D":164<=a&&200>a?"#CC8C08":200<=a&&222>a?"#C53E04":"#BF000C"}function getColorTemp(a){return-12.9>a?"#2000E5":-12.9<=a&&-12.5>a?"#2D6ADC":-12.5<=a&&-11.9>a?"#58BFD4":-11.9<=a&&-10.8>a?"#7ECBB2":"#A2C3A8"}function styleDose(a){return{color:getColorDoses(a.properties.Doses),weight:4,opacity:.85}}function styleTemp(a){return{color:getColorTemp(a.properties.Avg_temp_s),weight:4,opacity:.85}}var southWest=L.latLng(46.819537,-71.245298),northEast=L.latLng(46.827994,-71.224523),bounds=L.latLngBounds(southWest,northEast),map=L.map("map",{minZoom:10,maxZoom:18,maxBoundsViscosity:.8}).setView([46.819,-71.233107],14),Esri_WorldImagery=L.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}).addTo(map),truck=L.icon({iconUrl:"../css/trucking.svg",className:"blinking",iconSize:[40,40]}),marker1=L.marker([46.815487,-71.20608],{icon:truck}),marker2=L.marker([46.826374,-71.230146],{icon:truck}),marker3=L.marker([46.814896,-71.240042],{icon:truck}),marker4=L.marker([46.803125,-71.23198],{icon:truck}),marker5=L.marker([46.840156,-71.214519],{icon:truck});$(document).ready(function(){$("#weather").click()});